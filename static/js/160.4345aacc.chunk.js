"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[160],{160:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var n=r(439),s=r(791),c=r(87),a=r(689),i=r(584),u="Search_searchList__FX3V6",o="Search_searchListItem__gT1o+",l="Search_searchListItemLink__oCEWn",h=r(245),f=r(184);function m(){var e=(0,s.useState)([]),t=(0,n.Z)(e,2),r=t[0],m=t[1],d=(0,s.useState)(h.q.IDLE),S=(0,n.Z)(d,2),_=S[0],q=S[1],v=(0,s.useState)(""),g=(0,n.Z)(v,2),j=g[0],x=g[1],E=(0,c.lr)(),p=(0,n.Z)(E,2),C=p[0],L=p[1],R=(0,a.TH)();(0,s.useEffect)((function(){var e=C.get("query");e&&(q("loading"),(0,i.Z)({option:"search",query:e}).then((function(e){var t=e.results;if(0===t.length)throw new Error("No matches found");q(h.q.SUCCESS),m(t)})).catch((function(e){q(h.q.ERROR),x(e.message)})))}),[C]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements.query.value;L(""===t?{}:{query:t})},children:[(0,f.jsx)("input",{name:"query"}),(0,f.jsx)("button",{type:"submit",children:"Sumbit"})]}),_===h.q.LOADING&&(0,f.jsx)("div",{children:"LOADING"}),_===h.q.SUCCESS&&(0,f.jsx)("ul",{className:u,children:r.map((function(e){var t=e.title,r=e.id;return(0,f.jsx)("li",{className:o,children:(0,f.jsx)(c.rU,{to:"".concat(r),state:{from:R},className:l,children:t})},r)}))}),_===h.q.ERROR&&(0,f.jsx)("p",{children:j})]})}function d(){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(m,{})})}},245:function(e,t,r){r.d(t,{q:function(){return n}});var n={IDLE:"idle",LOADING:"loading",SUCCESS:"success",ERROR:"error"}}}]);
//# sourceMappingURL=160.4345aacc.chunk.js.map